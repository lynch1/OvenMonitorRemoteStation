# On my home network, the raspberry pi pulls the following
# IP adress from the router: 
10.0.0.220

# Start with latest version of Raspian via NOOBS. 
# I started with a fresh install of version:
	uname -a
		Linux raspberrypi 4.14.98-v7+ #1200 SMP Tue Feb 12 20:27:48 GMT 2019 armv7l GNU/  Linux

# Change default  username for security
# We're leaving the pi user since some things depend on it
sudo raspi-cofig
	Option 2 change username

# Require a password for sudo privelages for security
sudo nano /etc/sudoers.d/010_pi-nopasswd

	change the pi entry (or whichever usernames have superuser rights) to
		pi ALL=(ALL) PASSWD: ALL

# Uninstall programs that aren't needed to make OS image smaller (make it easier to back/up)
	# Find out your current disk usage
	df- h

	# Remove wolfram engine that comes with Raspian
	sudo apt-get purge wolfram-engine

	# Remove office libre that comes with raspian
	sudo apt-get remove --purge libreoffice*

	# Remove any remainging files
	sudo apt-get clean
	sudo apt-get autoremove

	# Doing this after a fresh install saved 1 GB on the SD card, (before free disk space was 21 GB, after it was 22GB)

# Open config and enable camera, SPI, and I2C
sudo raspi-config
	Option 5 Interfacing Options
		Turn Camera on
		Turn SPI on 
		Turn I2C on

# Test Camera
raspistill -o testy-test.jpg

# Make sure node and npm are installed
# In my case node was and npm wasn't
sudo apt-get update
sudo apt-get upgrade
sudo apt-get install nodejs npm

# Install PIP 
#// In my case node was and npm wasn't
sudo apt-get install python-pip

# Install Adafruit-IO Python Libraries
# https://github.com/adafruit/Adafruit_IO_Python
pip3 install adafruit-io

# Install raspicam libraries
sudo npm install raspicam


# Install curl
sudo apt-get install -y curl

# Install git
# git was already installed for me
sudo apt-get install git


# Install MCP3008 Library 
sudo apt-get install git build-essential python-dev
cd ~
git clone https://github.com/adafruit/Adafruit_Python_MCP3008.git

# Check that MCP3008 Library is working
cd Adafruit_Python_MCP3008
sudo python setup.py install
cd examples
python simpletest.py

# Install motion library
	sudo apt-get update
	sudo apt-get install -y motion

	# Installing motion has a problem when installed
	# So you need to make a new folder and change the permissions # of this folder
		# This folder may or may not exist already but if it does
		# this will just not do anything
		sudo mkdir /var/lib/motion

		# This changes the permissions to that folder
		sudo chmown motion:motion /var/lib/motion

# If needed change the config options to the
sudo nano /etc/motion/motion.conf
	change:
		width 320  to width 1080
		height 240 to height 720
		threshold 2000 to threshold 3500

# Install python for Raspberry PI GPIO Library
pip3 install RPI.GPIO

# Install Adafruit-io library
pip3 install adafruit-io


# Install Adafruit IO Camera Library
# I found it easy to install the dependencies on their own

	# Update APT and also install imagemagick
	sudo apt-get update
	sudo apt-get install -y imagemagick

	# Install forever via NPM
	sudo npm install --global --no-optional forever 
		# NOTE: npm takes a very long time to install "forever" (like 10 minutes)

	# Install forever-service via NPM
	sudo npm install --global --no-optional forever-service

	# Install adafruit-io-camera via NPM
	sudo npm install --global --no-optional adafruit-io-camera

# Set up Adafruit IO Camera with your Adafruit IO Account
adafruit-io camera config --username USERNAME --key KEY
# My account username is: dlynch02132
# On 4/4/19 at 11:38PM My Adafruit I/O key was: a2d792680a40479aafbf1a0be94e9df4a2d792680a40479aafbf1a0be94e9df4














############################################
Dropbox Uploader Stuff If I Want To Use It
############################################
# Install Dropbox Uploader Library
# https://github.com/andreafabrizi/Dropbox-Uploader
$ git clone https://github.com/andreafabrizi/Dropbox-Uploader.git
$ cd Dropbox-Uploader
	~/Dropbox-Uploader $ chmod a+x dropbox_uploader.sh
	~/Dropbox-Uploader $ sudo cp dropbox_uploader.sh /usr/local/bin/dropbox_uploader

# Run dropbox-uploader script
~/Dropbox-Uploader $ dropbox_uploader

# Set up a Dropbox API account at 
# https:#www.dropbox.com/developers/apps/
# Paste in generated Dropbox API App Keys and Secret Values

#Give execution permission to script
$ chmod a+r ~/.dropbox_uploader

# If you need to re-enter your Dropbox App Key 
# First unlink the account
$ dropbox_uploader unlink
# Then remove the temporary config file drobox_uploader.sh stores the key in
$ cd ..
$ rm ./dropbox_uploader
